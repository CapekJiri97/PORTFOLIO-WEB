<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forest Logistics Optimization | Jiří Čapek</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* ZELENÁ PALETA (Lesní vibe) */
            --primary: #38655D;       
            --primary-dark: #294D46;
            --accent: #4ade80;
            
            --bg: #f8fafc;
            --text-main: #1e293b;
            --text-muted: #475569;
            --border: #e2e8f0;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        
        body { 
            background-color: var(--bg); 
            color: var(--text-main); 
            line-height: 1.8;
        }

        /* --- NAVIGACE --- */
        nav {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            padding: 1rem 3rem;
            display: flex; justify-content: space-between; align-items: center; color: white;
            position: sticky; top: 0; z-index: 100; box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .nav-brand { font-weight: 700; font-size: 1.2rem; letter-spacing: 1px; text-transform: uppercase; }
        .btn-back { color: white; text-decoration: none; font-size: 0.9rem; display: flex; align-items: center; gap: 8px; opacity: 0.8; transition: 0.3s; }
        .btn-back:hover { opacity: 1; transform: translateX(-5px); }

        /* --- HERO SEKCE --- */
        .project-hero {
            background-color: white;
            padding: 4rem 2rem;
            text-align: center;
            border-bottom: 1px solid var(--border);
        }

        .container { max-width: 900px; margin: 0 auto; }

        .project-category {
            color: var(--primary); font-weight: 600; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 1rem; display: inline-block;
        }

        h1 { font-size: 2.8rem; font-weight: 700; line-height: 1.2; margin-bottom: 1.5rem; color: var(--text-main); }

        .hero-meta {
            display: flex; justify-content: center; gap: 2rem; color: var(--text-muted); font-size: 0.95rem; margin-bottom: 2rem; flex-wrap: wrap;
        }
        .meta-item i { color: var(--primary); margin-right: 5px; }

        /* --- OBRÁZEK --- */
        .main-image-wrapper {
            max-width: 1000px; margin: -3rem auto 3rem auto; padding: 0 1rem;
        }
        .main-image { width: 100%; height: auto; border-radius: 12px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); display: block; }

        /* --- OBSAH --- */
        .content-section { max-width: 800px; margin: 0 auto; padding: 2rem 1rem; }

        h2 { font-size: 1.6rem; color: var(--primary); margin: 3rem 0 1.2rem 0; position: relative; display: inline-block; }
        h2::after { content: ''; display: block; width: 40px; height: 3px; background: var(--accent); margin-top: 5px; border-radius: 2px; }

        h3 { font-size: 1.2rem; margin: 1.5rem 0 0.5rem 0; color: var(--text-main); font-weight: 600; }
        p { margin-bottom: 1.2rem; color: #334155; font-size: 1.05rem; text-align: justify; }

        /* TECH STACK BOX */
        .tech-box { background: #f1f5f9; border-left: 5px solid var(--primary); padding: 2rem; border-radius: 0 8px 8px 0; margin: 2rem 0; }
        .tech-title { font-weight: 700; margin-bottom: 1rem; color: var(--text-main); }
        .tech-list { display: flex; flex-wrap: wrap; gap: 10px; }
        .tech-tag { background: white; padding: 6px 14px; border-radius: 50px; font-size: 0.9rem; font-weight: 500; color: var(--primary); box-shadow: 0 2px 5px rgba(0,0,0,0.05); border: 1px solid var(--border); }

        /* LISTY */
        .data-list { list-style: none; margin-bottom: 1.5rem; }
        .data-list li { margin-bottom: 0.8rem; padding-left: 1.5rem; position: relative; }
        .data-list li::before { content: '•'; color: var(--primary); font-weight: bold; font-size: 1.5rem; position: absolute; left: 0; top: -5px; }

        /* CODE SNIPPET (LIGHT VERSION) */
        .code-light {
            background: #f8fafc; border: 1px solid #e2e8f0; padding: 1.5rem; border-radius: 8px;
            font-family: 'Consolas', monospace; font-size: 0.9rem; color: #334155; margin: 1.5rem 0; overflow-x: auto;
        }
        .code-light strong { color: var(--primary); }

        /* RESULTS GRID */
        .results-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 2rem 0; }
        .result-card { background: white; padding: 1.5rem; border-radius: 8px; border: 1px solid #e2e8f0; text-align: center; box-shadow: 0 4px 10px rgba(0,0,0,0.03); }
        .result-val { font-size: 2rem; font-weight: 800; color: var(--primary); }
        .result-label { font-size: 0.85rem; text-transform: uppercase; color: #64748b; font-weight: 600; }

        /* REFLECTION */
        .reflection-box { background: #ecfdf5; border: 1px solid #d1fae5; padding: 2rem; border-radius: 12px; margin-top: 3rem; position: relative; }
        .reflection-box::before { content: '\f10d'; font-family: 'Font Awesome 6 Free'; font-weight: 900; position: absolute; top: -15px; left: 20px; background: var(--bg); padding: 0 10px; color: var(--primary); font-size: 1.5rem; }

        .project-footer { text-align: center; margin-top: 4rem; padding-top: 2rem; border-top: 1px solid var(--border); }
        .btn-primary { display: inline-block; background: var(--primary); color: white; padding: 12px 30px; border-radius: 50px; text-decoration: none; font-weight: 600; transition: 0.3s; }
        .btn-primary:hover { background: var(--primary-dark); box-shadow: 0 5px 15px rgba(56, 101, 93, 0.3); }
   /* --- MORE PROJECTS SECTION --- */
        .more-projects {
            max-width: 1000px;
            margin: 4rem auto;
            padding: 0 2rem;
            border-top: 1px solid var(--border);
            padding-top: 4rem;
        }

        .more-projects-title {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 2rem;
            color: var(--text-main);
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .projects-grid {
            display: grid;
            /* 3 sloupce na PC */
            grid-template-columns: repeat(3, 1fr); 
            gap: 25px;
        }

        .project-tile {
            background: white;
            border: 1px solid var(--border);
            border-radius: 12px;
            text-decoration: none;
            color: var(--text-main);
            display: flex;
            flex-direction: column;
            overflow: hidden; /* Aby obrázek nepřetekl rohy */
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0,0,0,0.03);
            height: 100%;
        }

        .project-tile:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
            border-color: var(--primary);
        }

        /* Styl pro obrázek v dlaždici */
        .tile-image {
            width: 100%;
            height: 140px; /* Fixní výška pro sjednocení */
            object-fit: cover;
            border-bottom: 1px solid var(--border);
        }

        .tile-content {
            padding: 1.2rem;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            flex-grow: 1;
        }

        .tile-content h4 {
            font-size: 1rem;
            font-weight: 700;
            margin-bottom: 8px;
            line-height: 1.4;
        }

        .tile-tag {
            font-size: 0.75rem;
            color: #64748b;
            text-transform: uppercase;
            font-weight: 600;
            background: #f1f5f9;
            padding: 4px 10px;
            border-radius: 50px;
        }

        /* Mobilní verze: 1 sloupec */
        @media (max-width: 768px) {
            .projects-grid {
                grid-template-columns: 1fr;
            }
            .tile-image {
                height: 160px; /* Na mobilu trochu vyšší obrázek */
            }
        }
        @media (max-width: 768px) { h1 { font-size: 2rem; } .results-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

    <nav>
        <a href="index.html" class="btn-back"><i class="fas fa-arrow-left"></i> Back to Portfolio</a>
        <div class="nav-brand">Jiří Čapek</div>
    </nav>

    <section class="project-hero">
        <div class="container">
            <span class="project-category">Operations Research & Logistics</span>
            <h1>Forest Protection Logistics Optimization</h1>
            
            <div class="hero-meta">
                <div class="meta-item"><i class="fas fa-graduation-cap"></i> Type: Bachelor's Thesis</div>
                <div class="meta-item"><i class="fas fa-code"></i> Model: TSPTW</div>
                <div class="meta-item"><i class="fas fa-tree"></i> Location: Hůrky Forest District</div>
            </div>
        </div>
    </section>

    <div class="main-image-wrapper">
        <img src="porovnanitras.png" alt="Map Layouts" class="main-image">
    </div>

    <section class="content-section">
        
        <p>
            <strong>About this project:</strong><br>
            This project addresses a critical ecological challenge—bark beetle infestation—by applying <strong>Operations Research</strong> to optimize the logistics of preventive forest protection. Using the <strong>Traveling Salesman Problem with Time Windows (TSPTW)</strong>, I modeled and minimized the travel time for forest managers inspecting pheromone traps. The solution was handed over to the Forestry School in Písek to streamline their operations.
        </p>

        <div class="tech-box">
            <div class="tech-title">Tools & Methods</div>
            <div class="tech-list">
                <span class="tech-tag">Python (GeoPy, Pandas)</span>
                <span class="tech-tag">OpenSolver (CBC Engine)</span>
                <span class="tech-tag">MS Excel</span>
                <span class="tech-tag">Linear Programming</span>
                <span class="tech-tag">Operations Research</span>
            </div>
        </div>

        <h2>1. Problem Definition</h2>
        <p>The goal was to find the optimal route for checking <strong>23 pheromone traps</strong> scattered across the forest district. The challenge involved not just minimizing distance, but adhering to specific constraints:</p>
        <ul class="data-list">
            <li><strong>Strict Time Windows:</strong> Departure at 7:00, Return by afternoon.</li>
            <li><strong>Mandatory Lunch Break:</strong> Fixed window (11:00 - 11:30).</li>
            <li><strong>Service Time:</strong> 9 minutes required at each trap location.</li>
        </ul>

        <h2>2. Data Processing with Python</h2>
        <p>Before optimization, I needed precise data. I used <strong>Python</strong> to process the GPS coordinates of all traps.</p>
        
        <div class="code-light">
            # Calculating Geodesic Distance Matrix<br>
            <strong>for</strong> i <strong>in</strong> range(num_points):<br>
            &nbsp;&nbsp;<strong>for</strong> j <strong>in</strong> range(num_points):<br>
            &nbsp;&nbsp;&nbsp;&nbsp;dist_matrix[i,j] = <strong>calculate_distance</strong>(coords[i], coords[j])
        </div>
        
        <p>Using the <code>GeoPy</code> library, I calculated a precise distance matrix representing walking times between all 24 points (traps + base), considering the average walking speed in the terrain.</p>

        <h2>3. Mathematical Modeling</h2>
        <p>I formulated the problem as a <strong>Linear Programming</strong> model. The objective function was set to minimize the total time, subject to constraints ensuring:</p>
        <ul class="data-list">
            <li>Every trap is visited exactly once.</li>
            <li>Sub-tours are eliminated.</li>
            <li>Time windows for the lunch break are strictly respected.</li>
        </ul>

        <h2>4. Optimization & Results</h2>
        <p>
            Due to the complexity of the problem (NP-hard), I utilized <strong>OpenSolver</strong> with the CBC engine to handle over <strong>650 constraints</strong>. The model processed approximately <strong>13 million iterations</strong> to find the global optimum.
        </p>

        <div class="results-grid">
            <div class="result-card">
                <div class="result-val">Layout 2</div>
                <div class="result-label">Most Efficient Route</div>
            </div>
            <div class="result-card">
                <div class="result-val">12 min</div>
                <div class="result-label">Time Saved per Walk</div>
            </div>
            <div class="result-card">
                <div class="result-val">7h 26m</div>
                <div class="result-label">Total Duration</div>
            </div>
            <div class="result-card">
                <div class="result-val">Implemented</div>
                <div class="result-label">By Forestry School</div>
            </div>
        </div>

        <p>
            I tested 3 different trap layout scenarios. The analysis identified "Layout 2" as the most efficient configuration. The results and the optimized route plan were implemented by the school for their seasonal forest protection strategy.
        </p>

        <div class="reflection-box">
            <h3>Personal Reflection</h3>
            <p style="margin-bottom: 0;">
                In this project, I bridged the gap between theoretical mathematics and practical forestry management. I learned how to transform a real-world logistical problem into a mathematical model and solve it using advanced tools. It demonstrated that even small optimizations accumulate to significant efficiency gains over a whole season.
            </p>
        </div>
        <div class="project-footer">
            <a href="bp.pdf" class="btn-primary" target="_blank"><i class="fas fa-file-pdf"></i> Read Full Thesis</a>
        </div>
    </section>
      <section class="more-projects">
        <h3 class="more-projects-title">Explore Other Projects</h3>
        
        <div class="projects-grid">
            
            <a href="project-fpl.html" class="project-tile" style="position: relative;">
                <div style="position: absolute; top: 10px; right: 10px; background: #ef4444; color: white; font-size: 0.7rem; font-weight: 800; padding: 4px 8px; border-radius: 4px; box-shadow: 0 2px 5px rgba(0,0,0,0.3);">NEW</div>
                <img src="fplheader.png" alt="FPL Optimization" class="tile-image">
                <div class="tile-content">
                    <h4>FPL Moneyball Optimization</h4>
                    <span class="tile-tag">Databricks & Python</span>
                </div>
            </a>

            <a href="project-timber.html" class="project-tile">
                <img src="econometricsheader.png" alt="Timber Market" class="tile-image">
                <div class="tile-content">
                    <h4>Timber Market Dynamics</h4>
                    <span class="tile-tag">Econometrics</span>
                </div>
            </a>

            <a href="project-loan.html" class="project-tile">
                <img src="pdheader.png" alt="Loan Predictor" class="tile-image">
                <div class="tile-content">
                    <h4>Loan Eligibility Model</h4>
                    <span class="tile-tag">Machine Learning</span>
                </div>
            </a>

            <a href="project-sports-db.html" class="project-tile">
                <img src="dbheader.png" alt="Sports Database" class="tile-image">
                <div class="tile-content">
                    <h4>Sports DB System</h4>
                    <span class="tile-tag">SQL & Database</span>
                </div>
            </a>

            <a href="project-wildlife.html" class="project-tile">
                <img src="sdheader.png" alt="Wildlife Simulation" class="tile-image">
                <div class="tile-content">
                    <h4>Wildlife Simulation</h4>
                    <span class="tile-tag">System Dynamics</span>
                </div>
            </a>

            <a href="project-prusa.html" class="project-tile">
                <img src="prusaheader.png" alt="Prusa Analytics" class="tile-image">
                <div class="tile-content">
                    <h4>Prusa Marketing Analysis</h4>
                    <span class="tile-tag">Power BI & Marketing</span>
                </div>
            </a>

            <a href="project-bowling.html" class="project-tile">
                <img src="bowlingheader.png" alt="Bowling Analytics" class="tile-image">
                <div class="tile-content">
                    <h4>Bowling Analytics</h4>
                    <span class="tile-tag">Advanced DAX</span>
                </div>
            </a>

        </div>
    </section>

</body>
</html>